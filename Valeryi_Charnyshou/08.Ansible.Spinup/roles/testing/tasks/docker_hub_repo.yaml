---
- name: Docker Hub repo
  block:
    - name: Docker Hub repo
      uri:
        url: "{{ item }}"
        return_content: no
      register: out_uri
      with_items: "{{ docker_hub_repo_link }}"
      failed_when: out_uri.status != 200
  rescue:
    - name: Send notofication to Slack
      slack:
        token: TFBPBNB2L/BTQ4WV8P3/Yq8fc1FORDH7YrtGijv7CwBn
        msg: "DockerHub check FAILED"
        channel: "sa_notifications"
        username: "incoming-webhook"
        parse: "full"

---
- name: Print remote host parametrs
  hosts: test
  become: yes
  gather_facts: true

  tasks:

  - name: print OS version
    debug:
      msg: "OS type:{{ansible_os_family}}  OS:{{ansible_distribution}} {{ansible_distribution_version}}"

  - name: print Mount point/ capacity/ used
    debug:  
      msg:
      - " "
      - "Disk usage at {{item.mount}} =  {{ ((item.size_total - item.size_available)|float / 1000000000) | round(1, 'common') }}GB of total {{ (item.size_total|float / 1000000000) | round(1, 'common') }}GB"
    loop:  "{{ansible_mounts}}" 
    
  - name: print RAM
    debug:
      var: ansible_memory_mb


# Deploy Ansible on any your localhost (Ubuntu/CentOS)


``` code
user@primary:~$ sudo apt install ansible -y
user@primary:~$ sudo visudo

    user    ALL=(ALL:ALL) NOPASSWD:ALL

user@primary:~$ ssh-copy-id user@localhost

user@primary:~$ ansible localhost -m shell -a "sudo apt-get update -y"
 [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

localhost | SUCCESS | rc=0 >>
Hit:1 http://by.archive.ubuntu.com/ubuntu bionic InRelease
Hit:2 http://by.archive.ubuntu.com/ubuntu bionic-updates InRelease
Hit:3 http://by.archive.ubuntu.com/ubuntu bionic-backports InRelease
Hit:4 http://by.archive.ubuntu.com/ubuntu bionic-security InRelease
Reading package lists...



user@primary:~$ ansible localhost -m shell -a "sudo apt-get upgrade -y"
 [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

localhost | SUCCESS | rc=0 >>
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
The following packages will be upgraded:
  apt apt-utils bind9-host bsdutils cloud-init dnsutils dpkg fdisk grep
  landscape-common libapt-inst2.0 libapt-pkg5.0 libbind9-160 libblkid1
  libdns-export1100 libdns1100 libfdisk1 libirs160 libisc-export169 libisc169
  libisccc160 libisccfg160 libldap-2.4-2 libldap-common liblwres160 libmount1
  libprocps6 librados2 librbd1 libsmartcols1 libuuid1 mount netplan.io nplan
  procps python3-software-properties snapd software-properties-common
  sosreport thermald util-linux uuid-runtime xkb-data
43 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Need to get 26.4 MB of archives.
After this operation, 1,159 kB of additional disk space will be used.
Get:1 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 bsdutils amd64 1:2.31.1-0.4ubuntu3.4 [60.3 kB]
Get:2 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 dpkg amd64 1.19.0.5ubuntu2.3 [1,136 kB]
Get:3 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 grep amd64 3.1-2build1 [159 kB]
Get:4 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libuuid1 amd64 2.31.1-0.4ubuntu3.4 [20.0 kB]
Get:5 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libblkid1 amd64 2.31.1-0.4ubuntu3.4 [124 kB]
Get:6 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libfdisk1 amd64 2.31.1-0.4ubuntu3.4 [164 kB]
Get:7 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libmount1 amd64 2.31.1-0.4ubuntu3.4 [136 kB]
Get:8 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libsmartcols1 amd64 2.31.1-0.4ubuntu3.4 [83.7 kB]
Get:9 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 fdisk amd64 2.31.1-0.4ubuntu3.4 [108 kB]
Get:10 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 util-linux amd64 2.31.1-0.4ubuntu3.4 [902 kB]
Get:11 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libapt-pkg5.0 amd64 1.6.12 [806 kB]
Get:12 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 snapd amd64 2.40+18.04 [13.3 MB]
Get:13 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libapt-inst2.0 amd64 1.6.12 [55.6 kB]
Get:14 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 apt amd64 1.6.12 [1,200 kB]
Get:15 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 apt-utils amd64 1.6.12 [206 kB]
Get:16 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 mount amd64 2.31.1-0.4ubuntu3.4 [107 kB]
Get:17 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 uuid-runtime amd64 2.31.1-0.4ubuntu3.4 [34.8 kB]
Get:18 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libprocps6 amd64 2:3.3.12-3ubuntu1.2 [31.8 kB]
Get:19 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 procps amd64 2:3.3.12-3ubuntu1.2 [225 kB]
Get:20 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libisc-export169 amd64 1:9.11.3+dfsg-1ubuntu1.9 [164 kB]
Get:21 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libdns-export1100 amd64 1:9.11.3+dfsg-1ubuntu1.9 [749 kB]
Get:22 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 netplan.io amd64 0.98-0ubuntu1~18.04.1 [64.8 kB]
Get:23 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 nplan all 0.98-0ubuntu1~18.04.1 [1,800 B]
Get:24 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 xkb-data all 2.23.1-1ubuntu1.18.04.1 [325 kB]
Get:25 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 dnsutils amd64 1:9.11.3+dfsg-1ubuntu1.9 [145 kB]
Get:26 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 bind9-host amd64 1:9.11.3+dfsg-1ubuntu1.9 [53.6 kB]
Get:27 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libbind9-160 amd64 1:9.11.3+dfsg-1ubuntu1.9 [27.6 kB]
Get:28 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libisccfg160 amd64 1:9.11.3+dfsg-1ubuntu1.9 [48.5 kB]
Get:29 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libisccc160 amd64 1:9.11.3+dfsg-1ubuntu1.9 [17.9 kB]
Get:30 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libirs160 amd64 1:9.11.3+dfsg-1ubuntu1.9 [19.1 kB]
Get:31 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libdns1100 amd64 1:9.11.3+dfsg-1ubuntu1.9 [965 kB]
Get:32 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libisc169 amd64 1:9.11.3+dfsg-1ubuntu1.9 [238 kB]
Get:33 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 liblwres160 amd64 1:9.11.3+dfsg-1ubuntu1.9 [34.8 kB]
Get:34 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 landscape-common amd64 18.01-0ubuntu3.4 [85.4 kB]
Get:35 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libldap-common all 2.4.45+dfsg-1ubuntu1.4 [16.9 kB]
Get:36 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 libldap-2.4-2 amd64 2.4.45+dfsg-1ubuntu1.4 [155 kB]
Get:37 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 librbd1 amd64 12.2.12-0ubuntu0.18.04.3 [920 kB]
Get:38 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 librados2 amd64 12.2.12-0ubuntu0.18.04.3 [2,702 kB]
Get:39 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 software-properties-common all 0.96.24.32.11 [9,996 B]
Get:40 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 python3-software-properties all 0.96.24.32.11 [23.6 kB]
Get:41 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 sosreport amd64 3.6-1ubuntu0.18.04.3 [136 kB]
Get:42 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 thermald amd64 1.7.0-5ubuntu5 [192 kB]
Get:43 http://by.archive.ubuntu.com/ubuntu bionic-updates/main amd64 cloud-init all 19.2-36-g059d049c-0ubuntu1~18.04.1 [404 kB]
Preconfiguring packages ...
Fetched 26.4 MB in 7s (3,911 kB/s)
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../bsdutils_1%3a2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking bsdutils (1:2.31.1-0.4ubuntu3.4) over (1:2.31.1-0.4ubuntu3.3) ...
Setting up bsdutils (1:2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../dpkg_1.19.0.5ubuntu2.3_amd64.deb ...
Unpacking dpkg (1.19.0.5ubuntu2.3) over (1.19.0.5ubuntu2.1) ...
Setting up dpkg (1.19.0.5ubuntu2.3) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../grep_3.1-2build1_amd64.deb ...
Unpacking grep (3.1-2build1) over (3.1-2) ...
Setting up grep (3.1-2build1) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../libuuid1_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking libuuid1:amd64 (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up libuuid1:amd64 (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../libblkid1_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking libblkid1:amd64 (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up libblkid1:amd64 (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../libfdisk1_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking libfdisk1:amd64 (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up libfdisk1:amd64 (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../libmount1_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking libmount1:amd64 (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up libmount1:amd64 (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../libsmartcols1_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking libsmartcols1:amd64 (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up libsmartcols1:amd64 (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../fdisk_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking fdisk (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up fdisk (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../util-linux_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking util-linux (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Setting up util-linux (2.31.1-0.4ubuntu3.4) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../libapt-pkg5.0_1.6.12_amd64.deb ...
Unpacking libapt-pkg5.0:amd64 (1.6.12) over (1.6.11) ...
Setting up libapt-pkg5.0:amd64 (1.6.12) ...
(Reading database ... 109866 files and directories currently installed.)
Preparing to unpack .../snapd_2.40+18.04_amd64.deb ...
Unpacking snapd (2.40+18.04) over (2.39.2+18.04) ...
Preparing to unpack .../libapt-inst2.0_1.6.12_amd64.deb ...
Unpacking libapt-inst2.0:amd64 (1.6.12) over (1.6.11) ...
Preparing to unpack .../archives/apt_1.6.12_amd64.deb ...
Unpacking apt (1.6.12) over (1.6.11) ...
Setting up apt (1.6.12) ...
(Reading database ... 109872 files and directories currently installed.)
Preparing to unpack .../00-apt-utils_1.6.12_amd64.deb ...
Unpacking apt-utils (1.6.12) over (1.6.11) ...
Preparing to unpack .../01-mount_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking mount (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Preparing to unpack .../02-uuid-runtime_2.31.1-0.4ubuntu3.4_amd64.deb ...
Unpacking uuid-runtime (2.31.1-0.4ubuntu3.4) over (2.31.1-0.4ubuntu3.3) ...
Preparing to unpack .../03-libprocps6_2%3a3.3.12-3ubuntu1.2_amd64.deb ...
Unpacking libprocps6:amd64 (2:3.3.12-3ubuntu1.2) over (2:3.3.12-3ubuntu1.1) ...
Preparing to unpack .../04-procps_2%3a3.3.12-3ubuntu1.2_amd64.deb ...
Unpacking procps (2:3.3.12-3ubuntu1.2) over (2:3.3.12-3ubuntu1.1) ...
Preparing to unpack .../05-libisc-export169_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libisc-export169:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../06-libdns-export1100_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libdns-export1100 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../07-netplan.io_0.98-0ubuntu1~18.04.1_amd64.deb ...
Unpacking netplan.io (0.98-0ubuntu1~18.04.1) over (0.97-0ubuntu1~18.04.1) ...
Preparing to unpack .../08-nplan_0.98-0ubuntu1~18.04.1_all.deb ...
Unpacking nplan (0.98-0ubuntu1~18.04.1) over (0.97-0ubuntu1~18.04.1) ...
Preparing to unpack .../09-xkb-data_2.23.1-1ubuntu1.18.04.1_all.deb ...
Unpacking xkb-data (2.23.1-1ubuntu1.18.04.1) over (2.23.1-1ubuntu1) ...
Preparing to unpack .../10-dnsutils_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking dnsutils (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../11-bind9-host_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking bind9-host (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../12-libbind9-160_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libbind9-160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../13-libisccfg160_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libisccfg160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../14-libisccc160_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libisccc160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../15-libirs160_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libirs160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../16-libdns1100_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libdns1100:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../17-libisc169_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking libisc169:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../18-liblwres160_1%3a9.11.3+dfsg-1ubuntu1.9_amd64.deb ...
Unpacking liblwres160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) over (1:9.11.3+dfsg-1ubuntu1.8) ...
Preparing to unpack .../19-landscape-common_18.01-0ubuntu3.4_amd64.deb ...
Unpacking landscape-common (18.01-0ubuntu3.4) over (18.01-0ubuntu3.3) ...
Preparing to unpack .../20-libldap-common_2.4.45+dfsg-1ubuntu1.4_all.deb ...
Unpacking libldap-common (2.4.45+dfsg-1ubuntu1.4) over (2.4.45+dfsg-1ubuntu1.3) ...
Preparing to unpack .../21-libldap-2.4-2_2.4.45+dfsg-1ubuntu1.4_amd64.deb ...
Unpacking libldap-2.4-2:amd64 (2.4.45+dfsg-1ubuntu1.4) over (2.4.45+dfsg-1ubuntu1.3) ...
Preparing to unpack .../22-librbd1_12.2.12-0ubuntu0.18.04.3_amd64.deb ...
Unpacking librbd1 (12.2.12-0ubuntu0.18.04.3) over (12.2.12-0ubuntu0.18.04.2) ...
Preparing to unpack .../23-librados2_12.2.12-0ubuntu0.18.04.3_amd64.deb ...
Unpacking librados2 (12.2.12-0ubuntu0.18.04.3) over (12.2.12-0ubuntu0.18.04.2) ...
Preparing to unpack .../24-software-properties-common_0.96.24.32.11_all.deb ...
Unpacking software-properties-common (0.96.24.32.11) over (0.96.24.32.9) ...
Preparing to unpack .../25-python3-software-properties_0.96.24.32.11_all.deb ...
Unpacking python3-software-properties (0.96.24.32.11) over (0.96.24.32.9) ...
Preparing to unpack .../26-sosreport_3.6-1ubuntu0.18.04.3_amd64.deb ...
Unpacking sosreport (3.6-1ubuntu0.18.04.3) over (3.6-1ubuntu0.18.04.2) ...
Preparing to unpack .../27-thermald_1.7.0-5ubuntu5_amd64.deb ...
Unpacking thermald (1.7.0-5ubuntu5) over (1.7.0-5ubuntu2) ...
Preparing to unpack .../28-cloud-init_19.2-36-g059d049c-0ubuntu1~18.04.1_all.deb ...
Unpacking cloud-init (19.2-36-g059d049c-0ubuntu1~18.04.1) over (19.1-1-gbaa47854-0ubuntu1~18.04.1) ...
Setting up libisc169:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up libapt-inst2.0:amd64 (1.6.12) ...
Setting up libisccc160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up landscape-common (18.01-0ubuntu3.4) ...
Setting up thermald (1.7.0-5ubuntu5) ...
Setting up libldap-common (2.4.45+dfsg-1ubuntu1.4) ...
Setting up apt-utils (1.6.12) ...
Setting up libisc-export169:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up xkb-data (2.23.1-1ubuntu1.18.04.1) ...
Setting up mount (2.31.1-0.4ubuntu3.4) ...
Setting up netplan.io (0.98-0ubuntu1~18.04.1) ...
Setting up libprocps6:amd64 (2:3.3.12-3ubuntu1.2) ...
Setting up uuid-runtime (2.31.1-0.4ubuntu3.4) ...
Setting up librados2 (12.2.12-0ubuntu0.18.04.3) ...
Setting up procps (2:3.3.12-3ubuntu1.2) ...
Setting up snapd (2.40+18.04) ...
Installing new version of config file /etc/apparmor.d/usr.lib.snapd.snap-confine.real ...
md5sum: /etc/apparmor.d/usr.lib.snapd.snap-confine: No such file or directory
snapd.failure.service is a disabled or a static unit, not starting it.
snapd.snap-repair.service is a disabled or a static unit, not starting it.
Setting up libldap-2.4-2:amd64 (2.4.45+dfsg-1ubuntu1.4) ...
Setting up nplan (0.98-0ubuntu1~18.04.1) ...
Setting up sosreport (3.6-1ubuntu0.18.04.3) ...
Setting up libdns-export1100 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up python3-software-properties (0.96.24.32.11) ...
Setting up libdns1100:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up liblwres160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up cloud-init (19.2-36-g059d049c-0ubuntu1~18.04.1) ...
Installing new version of config file /etc/cloud/templates/ntp.conf.debian.tmpl ...
Setting up software-properties-common (0.96.24.32.11) ...
Setting up librbd1 (12.2.12-0ubuntu0.18.04.3) ...
Setting up libisccfg160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up libirs160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up libbind9-160:amd64 (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up bind9-host (1:9.11.3+dfsg-1ubuntu1.9) ...
Setting up dnsutils (1:9.11.3+dfsg-1ubuntu1.9) ...
Processing triggers for systemd (237-3ubuntu10.29) ...
Processing triggers for man-db (2.8.3-2ubuntu0.1) ...
Processing triggers for dbus (1.12.2-1ubuntu1.1) ...
Processing triggers for rsyslog (8.32.0-1ubuntu4) ...
Processing triggers for mime-support (3.60ubuntu1) ...
Processing triggers for ureadahead (0.100.0-21) ...
Processing triggers for install-info (6.5.0.dfsg.1-2) ...
Processing triggers for libc-bin (2.27-3ubuntu1) ...

```

# Connect to the remote host


``` code

user@primary:~$ ssh-copy-id 192.168.56.103
user@primary:~$ ssh-copy-id 192.168.56.50
user@primary:~$ ssh-copy-id ansbl@192.168.56.51


ansible LinuxHosts -m ping
192.168.56.50 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
secondary | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
192.168.56.51 | SUCCESS => {
    "changed": false,
    "ping": "pong"



user@primary:~$ ansible-inventory --graph
@all:
  |--@LinuxHosts:
  |  |--@CentOS:
  |  |  |--192.168.56.50
  |  |--@Ubuntu:
  |  |  |--192.168.56.51
  |  |  |--secondary
  |--@ansible_localhost:
  |  |--localhost
  |--@ungrouped:



user@primary:~$ ansible LinuxHosts -m shell -a "hostname && hostname -I"
secondary | SUCCESS | rc=0 >>
secondary
10.0.2.15 192.168.56.103 10.0.3.1

192.168.56.51 | SUCCESS | rc=0 >>
Ubuntu
10.0.2.15 192.168.56.51

192.168.56.50 | SUCCESS | rc=0 >>
CentOS7.Latest
10.0.2.15 192.168.56.50



user@primary:~$ ansible CentOS -m shell -a "sudo yum upgrade -y"
 [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather
than running sudo

192.168.56.50 | SUCCESS | rc=0 >>
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.datacenter.by
 * extras: mirror.datacenter.by
 * updates: mirror.datacenter.by
Resolving Dependencies
--> Running transaction check
---> Package GeoIP.x86_64 0:1.5.0-13.el7 will be updated
---> Package GeoIP.x86_64 0:1.5.0-14.el7 will be an update
--> Processing Dependency: geoipupdate for package: GeoIP-1.5.0-14.el7.x86_64
---> Package NetworkManager.x86_64 1:1.12.0-10.el7_6 will be updated
---> Package NetworkManager.x86_64 1:1.18.0-5.el7_7.1 will be an update
---> Package NetworkManager-libnm.x86_64 1:1.12.0-10.el7_6 will be updated
---> Package NetworkManager-libnm.x86_64 1:1.18.0-5.el7_7.1 will be an update
---> Package NetworkManager-team.x86_64 1:1.12.0-10.el7_6 will be updated
---> Package NetworkManager-team.x86_64 1:1.18.0-5.el7_7.1 will be an update
---> Package NetworkManager-tui.x86_64 1:1.12.0-10.el7_6 will be updated
---> Package NetworkManager-tui.x86_64 1:1.18.0-5.el7_7.1 will be an update
---> Package audit.x86_64 0:2.8.4-4.el7 will be updated
---> Package audit.x86_64 0:2.8.5-4.el7 will be an update
---> Package audit-libs.x86_64 0:2.8.4-4.el7 will be updated
---> Package audit-libs.x86_64 0:2.8.5-4.el7 will be an update
---> Package bash.x86_64 0:4.2.46-31.el7 will be updated
---> Package bash.x86_64 0:4.2.46-33.el7 will be an update


## [output is truncated]


Total size: 252 M
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : bash-4.2.46-33.el7.x86_64                                  1/289
  Updating   : glibc-common-2.17-292.el7.x86_64                           2/289
  Updating   : nss-softokn-freebl-3.44.0-5.el7.x86_64                     3/289
  Updating   : glibc-2.17-292.el7.x86_64                                  4/289
warning: /etc/nsswitch.conf created as /etc/nsswitch.conf.rpmnew
  Updating   : nspr-4.21.0-1.el7.x86_64                                   5/289
  Updating   : nss-util-3.44.0-3.el7.x86_64                               6/289
  Updating   : libcom_err-1.42.9-16.el7.x86_64                            7/289
  Updating   : audit-libs-2.8.5-4.el7.x86_64                              8/289
  Updating   : libcap-2.22-10.el7.x86_64                                  9/289
  Updating   : coreutils-8.22-24.el7.x86_64                              10/289
  Updating   : krb5-libs-1.15.1-37.el7_7.2.x86_64                        11/289
  Updating   : 1:openssl-libs-1.0.2k-19.el7.x86_64                       12/289
  Updating   : libuuid-2.23.2-61.el7.x86_64                              13/289
  Updating   : libblkid-2.23.2-61.el7.x86_64                             14/289
  Updating   : 2:shadow-utils-4.6-5.el7.x86_64                           15/289
warning: /etc/login.defs created as /etc/login.defs.rpmnew
  Updating   : libdb-5.3.21-25.el7.x86_64                                16/289
  Updating   : libstdc++-4.8.5-39.el7.x86_64                             17/289
  Updating   : elfutils-libelf-0.176-2.el7.x86_64                        18/289
  Updating   : libmount-2.23.2-61.el7.x86_64                             19/289
  Updating   : glib2-2.56.1-5.el7.x86_64                                 20/289

## [output is truncated]

Complete!There are unfinished transactions remaining. You might consider running                                                                                                                      yum-complete-transaction, or "yum-complete-transaction --cleanup-only" and "yum                                                                                                                      history redo last", first to finish them. If those don't work you'll have to tr                                                                                                                     y removing/installing packages by hand (maybe package-cleanup can help).
Warning: RPMDB altered outside of yum.
** Found 8 pre-existing rpmdb problem(s), 'yum check' output follows:
32:bind-license-9.11.4-9.P2.el7.noarch is a duplicate with 32:bind-license-9.9.4                                                                                                                     -73.el7_6.noarch
centos-release-7-7.1908.0.el7.centos.x86_64 is a duplicate with centos-release-7                                                                                                                     -6.1810.2.el7.centos.x86_64
firewalld-filesystem-0.6.3-2.el7_7.1.noarch is a duplicate with firewalld-filesy                                                                                                                     stem-0.5.3-5.el7.noarch
1:grub2-common-2.02-0.80.el7.centos.noarch is a duplicate with 1:grub2-common-2.                                                                                                                     02-0.76.el7.centos.1.noarch
1:grub2-pc-modules-2.02-0.80.el7.centos.noarch is a duplicate with 1:grub2-pc-mo                                                                                                                     dules-2.02-0.76.el7.centos.1.noarch
libgcc-4.8.5-39.el7.x86_64 is a duplicate with libgcc-4.8.5-36.el7_6.2.x86_64
1:quota-nls-4.01-19.el7.noarch is a duplicate with 1:quota-nls-4.01-17.el7.noarc                                                                                                                     h
tzdata-2019c-1.el7.noarch is a duplicate with tzdata-2019a-1.el7.noarch


user@primary:~$ ansible Ubuntu -m shell -a "sudo apt upgrade -y"
 [WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo

192.168.56.51 | SUCCESS | rc=0 >>
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

secondary | SUCCESS | rc=0 >>
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

```





apiVersion: v1
kind: Pod
metadata:
  name: ubuntu-self-hosted-runner
spec:
  containers:
  - name: ubuntu
    image: ghcr.io/pluhin/busy-box:latest
    command: ["/bin/sh","-c"]
    args: 
      - mkdir actions-runner && cd actions-runner; 
        curl -o actions-runner-linux-x64-2.303.0.tar.gz -L https://github.com/actions/runner/releases/download/v2.303.0/actions-runner-linux-x64-2.303.0.tar.gz;
        tar xzf ./actions-runner-linux-x64-2.303.0.tar.gz; 
        export RUNNER_ALLOW_RUNASROOT='1';
        ./config.sh --name ubuntu_runner_busy-box --labels linux,runner,busy-box --runnergroup default --url https://github.com/nickvab/11.k8s --token $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$; 
        ./run.sh; 
        sleep 65365 
    imagePullPolicy: IfNotPresent
  restartPolicy: Always

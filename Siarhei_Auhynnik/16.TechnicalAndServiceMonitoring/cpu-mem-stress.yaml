apiVersion: v1
kind: Pod
metadata:
  name: cpu-mem-stress
  namespace: monitoring
spec:
  containers:
  - name: stress
    image: alpine:3.19
    command: ["sh", "-c"]
    args:
      - |
        apk add --no-cache stress-ng &&
        stress-ng --cpu 4 --cpu-load 100 --vm 4 --vm-bytes 240M --timeout 900s
    resources:
      requests:
        cpu: "1000m"
        memory: "256Mi"
      limits:
        cpu: "4"
        memory: "512Mi"
  restartPolicy: Always
